<launch>

	<arg name="geotiff_map_file_path" default="$(find hector_geotiff)/maps"/>
	<arg name="robot_no" default="rosbot1"/>
	<param name="/use_sim_time" value="false"/>
	<arg name="map_file" default="$(find dvpg)/maps/map1"/>

	<include file="$(find hector_mapping)/launch/mapping_default.launch">
		<arg name="scan_topic" value="$(arg robot_no)/scan"/>
	</include>

	<include file="$(find hector_geotiff_launch)/launch/geotiff_mapper.launch">
		<arg name="trajectory_source_frame_name" value="scanmatcher_frame"/>
		<arg name="map_file_path" value="$(arg geotiff_map_file_path)"/>
	</include>


	<node pkg="teleop_twist_keyboard" type="teleop_twist_keyboard.py" name="teleop_twist_keyboard" output="screen">
		<remap from="cmd_vel" to="$(arg robot_no)/cmd_vel"/>
		<param name="speed" value=".25"/>
		<param name="turn" value=".25"/>
	</node>

	<node name="map_server" pkg="map_server" type="map_saver" args="-f $(arg map_file)" respawn="true" />

	<node name="rviz" pkg="rviz" type="rviz" args="-d $(find dvpg)/config/view_map_creation.rviz"/>
</launch>